# ๐จ ูพุงูโุฑุณุงู Django ุจุง ุงุญุฑุงุฒ ููุช OTP ู Celery

ูพุฑูฺูโุง ูุจุชู ุจุฑ Django REST Framework ุจุฑุง ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุจุง ูุงุจูุช:

- ุงุญุฑุงุฒ ููุช ุจุง OTP
- ูุณุช ฺฉุงุฑุจุฑุงู ุจุง ุฌุณุชโูุฌูุ ูุฑุชุจโุณุงุฒุ ู ุตูุญูโุจูุฏ
- ูุณุชูุฏุณุงุฒ ฺฉุงูู API ุจุง Swagger
- ุงุฌุฑุง ุชุณฺฉโูุง ุบุฑุจููฺฉ ุจุง Celery + Redis
- ุงุฌุฑุง ฺฉุงูู ุจุง Docker Compose

---

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
.
โโโ accounts/           # ุงูพ ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู OTP
โโโ messenger/          # ุงูพ ุงุตู ูพุฑูฺู
โโโ requirements.txt    # ูุณุช ูพฺฉุฌโูุง ููุฑุฏ ูุงุฒ
โโโ docker-compose.yml  # ุงุฌุฑุง ุชูุงู ุณุฑูุณโูุง
โโโ Dockerfile          # ุจุฑุง ุงุฌุฑุง Django
โโโ celery.py           # ุชูุธูุงุช Celery
โโโ README.md           # ุงู ูุงู
```

---

## ๐ ูุญูู ุงุฌุฑุง (Docker)

### ูพุดโูุงุฒูุง:

- Docker
- Docker Compose

### ุงุฌุฑุง ูพุฑูฺู:

```bash
git clone https://github.com/your-org/your-repo.git
cd your-repo

# ุณุงุฎุช ู ุงุฌุฑุง ููู ุณุฑูุณโูุง (ูุจุ Celeryุ Redis)
docker-compose up --build
```

---

## ๐งฉ ุณุฑูุณโูุง Docker

| ุณุฑูุณ   | ุชูุถุญ                           | ูพูุฑุช |
| ------- | ------------------------------- | ---- |
| web     | ุงูพ Django                       | 8000 |
| celery  | ุชุณฺฉโฺฏุฑ ุจุฑุง ุชุณฺฉโูุง async      | -    |
| redis   | ุจุฑูฺฉุฑ ูพุงู ุจุฑุง Celery          | 6379 |
| swagger | ูุณุชูุฏุงุช API ุฏุฑ ูุณุฑ `/swagger/` | 8000 |

---

## ๐ ุงุญุฑุงุฒ ููุช OTP

### ูุณุฑูุง ููู:

| ูุชุฏ  | URL                   | ุชูุถุญ                    |
| ---- | --------------------- | ------------------------ |
| POST | `/accounts/register/` | ุฏุฑุงูุช ฺฉุฏ OTP ุจุฑุง ุดูุงุฑู |
| POST | `/accounts/verify/`   | ุชุฃุฏ OTP ู ุฏุฑุงูุช ุชูฺฉู  |
| GET  | `/accounts/profile/`  | ูพุฑููุงู ฺฉุงุฑุจุฑ ูุงฺฏู ุดุฏู  |

---

## ๐ฅ ูุณุช ฺฉุงุฑุจุฑุงู

### ูุณุฑ:

```
GET /accounts/users/
```

### ูพุงุฑุงูุชุฑูุง ูพุดุชุจุงูโุดุฏู:

| ูพุงุฑุงูุชุฑ     | ููุน    | ุชูุถุญ                        |
| ----------- | ------ | ---------------------------- |
| `search`    | string | ุฌุณุชโูุฌู ุจุฑ ุงุณุงุณ ูุงู ุง ุดูุงุฑู |
| `ordering`  | string | ูุฑุชุจโุณุงุฒ (ูุซูุงู `username`) |
| `page`      | int    | ุดูุงุฑู ุตูุญู                   |
| `page_size` | int    | ุชุนุฏุงุฏ ุขุชู ุฏุฑ ูุฑ ุตูุญู        |

---

## ๐ ูุณุชูุฏุณุงุฒ API

ูุณุชูุฏุงุช Swagger ุฏุฑ ูุณุฑ ุฒุฑ:

```
http://localhost:8000/swagger/
```

---

## โ ุชูุธูุงุช ููู

### ูุงู `.env` (ูพุดููุงุฏ)

```env
DJANGO_SECRET_KEY=your_secret_key
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
REDIS_URL=redis://redis:6379/0
```

---

## ๐ Celery

### ูุงู ุฑุงูโุงูุฏุงุฒ:

`messenger/celery.py`

### ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุฏุฑ Docker:

```yaml
services:
  celery:
    build: .
    command: celery -A messenger worker -l info
```

---

## โ ุชุณุช ุฏุณุช OTP (ุจุง curl)

```bash
curl -X POST http://localhost:8000/accounts/register/      -H "Content-Type: application/json"      -d '{"phone_number": "09121234567"}'
```

---

## โ ูฺฉุงุช ุชูุณุนู

- ุงฺฏุฑ ุชุบุฑ ุฏุฑ dependency ุฏุงุดุชุฏุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ูุฑุงููุด ูฺฉูุฏ:

```bash
docker-compose build --no-cache
```

- ุจุฑุง ูุฑูุฏ ุจู ูุญุท Bash ฺฉุงูุชูุฑ:

```bash
docker exec -it your_project_web_1 bash
```

---

## ๐งช ุชุณุชโูุง (ุฏุฑ ุญุงู ุชูุณุนู)

> ุชุณุชโูุง ูุฑุจูุท ุจู OTP ู API ูุณุช ฺฉุงุฑุจุฑุงู ุจู ุฒูุฏ ุงูุฒูุฏู ุฎูุงููุฏ ุดุฏ.

---

## ๐ TODO

- [x] ุงุญุฑุงุฒ ููุช OTP
- [x] Celery + Redis
- [x] ูุณุชูุฏุงุช Swagger
- [ ] ุงุฑุณุงู ูพุงู ุจู ฺฉุงุฑุจุฑุงู
- [ ] ูุงฺฏ ูุนุงูุช ฺฉุงุฑุจุฑุงู
- [ ] ุชุณุชโูุง ูพูุดุดโุฏู ฺฉุงูู

---

## ๐ค ุชูุณุนูโุฏููุฏู

- ููุณูุฏู: โbehnam bashiri
- ุงูู: behnambashiri80@gmail.com

---
